<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>Minerva</title>

    <!-- Used with Bootstrap 4 -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=yes">

    <!--Donwloaded files and stored in resource folder -->
    <!--    jQuery first, then Popper.js, then Bootstrap JS -->

    <!-- JQuery needed for  Bootstrap 4 and Angular -->
    <script src="lib/jquery/dist/jquery.js"></script>

    <!-- Popper needed for Bootstrap 4 - Bootstrap 4 requires UMD version of popper.js -->
    <script src="lib/popper.js/dist/umd/popper.js"></script>

    <!-- Bootstrap 4 -->
    <link rel="stylesheet" href="lib/bootstrap/dist/css/bootstrap.css">
    <script src="lib/bootstrap/dist/js/bootstrap.js"></script>

    <!-- Angular 1.7.5 -->
    <script type="text/javascript" src="lib/angular/angular.js"></script>
    <script type="text/javascript" src="lib/angular-route/angular-route.min.js"></script>

    <!-- iconic icons -->
    <link href="lib/open-iconic/font/css/open-iconic-bootstrap.css" rel="stylesheet">
    <link rel="stylesheet" href="css/site.css">


    <script src="main.config.js"></script>

    <script src="medical-immunization/medical-immunization.module.js"></script>
    <script src="medical-immunization/medical-immunization.component.js"></script>
    <script src="medical-substance-abuse/substance-abuse.module.js"></script>
    <script src="medical-substance-abuse/substance-abuse.component.js"></script>
    <script src="medical-allergies/allergies.module.js"></script>
    <script src="medical-allergies/allergies.component.js"></script>
    <script src="medical-medication/medication.module.js"></script>
    <script src="medical-medication/medication.component.js"></script>
    <script src="medical-insurance/insurance.module.js"></script>
    <script src="medical-insurance/insurance.component.js"></script>
    <script src="medical.module.js"></script>

    <link rel="stylesheet" href="lib/bootstrap/dist/css/bootstrap.css">
    <script src="lib/bootstrap/dist/js/bootstrap.js"></script>

    <script src="modules/search/search.module.js"></script>
    <script src="modules/search/find-cadet/find-cadet.module.js"></script>
    <script src="modules/search/find-cadet/find-cadet.component.js"></script>
    <script src="modules/search/find-cadet/find-cadet-panel.component.js"></script>
    <script src="modules/search/find-applicant/find-applicant.module.js"></script>
    <script src="modules/search/find-applicant/find-applicant.component.js"></script>
    <script src="modules/search/find-applicant/find-applicant-panel.component.js"></script>

    <script src="medical.controller.js"></script>
</head>
<body>

<h1>Medical Module</h1>
<div ng-app="medical" ng-controller="MedicalController">

    <div id="page-content-wrapper">
        <nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ml-auto mt-2 mt-lg-0">
                    <li class="nav-item active">
                        <a class="nav-link" href="./medical.index.view.html">Home <span class="sr-only">(current)</span></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./medical.attendance.view.html">Attendance</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="./medical.grades.view.html">Grades</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Dropdown
                        </a>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" href="#">Action</a>
                            <a class="dropdown-item" href="#">Another action</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="#">Something else here</a>
                        </div>
                    </li>
                </ul>
            </div>
        </nav>

        <div ng-app="mainApp" ng-controller="MainController">

            <div class="container-fluid" style="margin-top:0px">

                <div class="form-group">
                    <label><b>Date</b></label>
                    <input type="date" placeholder="Enter Date" name="meetingDate"
                           ng-model="meetingDate" required
                           ng-change="loadDaily()">
                    <br><br>
                </div>
                <!--Modal ends here--->
                <table class="table minerva-table  table-striped">
                    <thead>
                    <th>Date</th>
                    <th>Name</th>
                    <th>Present</th>
                    <th>Absent</th>
                    <th>Excused</th>
                    <th>Comments</th>
                    </thead>
                    <tbody>
                    <tr ng-repeat="(key,value) in daily track by $index" ng-init="parentIndex = $index">
                        <td>{{daily[$index].date}}</td>
                        <td>{{daily[$index].lname}}, {{daily[$index].fname}}</td>
                        <td   ng-style="{'text-align':'center'}" ng-class="formatStatusColumn(daily[$index].fkStatusID,0)"> <input type="radio"  value ="0" ng-model="daily[$index].fkStatusID" ng-disabled="!editAllMode"></td>
                        <td   ng-style="{'text-align':'center'}" ng-class="formatStatusColumn(daily[$index].fkStatusID,2)"> <input type="radio"  value ="2" ng-model="daily[$index].fkStatusID" ng-disabled="!editAllMode"></td>
                        <td   ng-style="{'text-align':'center'}" ng-class="formatStatusColumn(daily[$index].fkStatusID,1)"> <input type="radio"  value ="1" ng-model="daily[$index].fkStatusID" ng-disabled="!editAllMode"></td>
                        <td> <input type="text"   ng-model="daily[$index].comments" ng-disabled="!editAllMode"></td>
                    </tr>
                    </tbody>
                </table>


                <h2>Summary Table </h2>
                <table class="table-bordered table-condensed table-hover">
                    <thead>
                    <tr>
                        <th ng-repeat="(key,value) in summaryData.students[0] track by $index"
                            ng-click="loadDate(key,value)"
                            ng-class="formatDateChosen(key)"
                            ng-style="{'vertical-align':'top'}">
                            {{formatHeader(key)}}
                            <span ng-if="(key==orderByField)"> <span class="oi oi-sort-ascending"></span> </span>

                        </th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="(key,value) in summaryData.students | orderBy:orderByField  track by $index " ng-init="parentIndex = $index">
                        <td ng-repeat="(fieldName, fieldValue) in value track by $index"
                            ng-class="formatStatus(fieldName,fieldValue)"
                            ng-style=formatStickyStyle(fieldName)
                            ng-click="showThisStudent(value)"
                        >
                            <span ng-if="( !(fieldName=='lname'|| fieldName=='fname'|| fieldName=='deductions'  || fieldName=='studentID') && (fieldValue=='2'))">X </span>
                            <span ng-if="( !(fieldName=='lname'|| fieldName=='fname'|| fieldName=='deductions'  || fieldName=='studentID') && (fieldValue=='1'))">E </span>
                            <span ng-if="(fieldName=='lname'|| fieldName=='fname'|| fieldName=='deductions' || fieldName=='studentID')">{{fieldValue}} </span>

                        </td>
                    </tr>

                    </tbody>
                </table>

                <hr>
                <h2>Selected Student </h2>
                <div>
            <span ng-repeat="(key,value) in showStudent track by $index">
                <span ng-if="( !(key=='lname'|| key=='fname'|| key=='deductions'  || key=='studentID') && (value=='2'))"> {{key}}-ABSENT <br/></span>
                <span ng-if="( !(key=='lname'|| key=='fname'|| key=='deductions'  || key=='studentID') && (value=='1'))">{{key}}-EXCUSED <br></span>
                <span ng-if="(key=='lname'|| key=='fname'|| key=='deductions')">{{key}}-{{value}}<br/></span>
            </span>
                </div>



            </div>

        </div>




</body>
</html>
